jQuery(document).ready(function(e){function t(){var t=0;e(".wp-travel-feature-slide-content").css({height:"auto"}),window.innerWidth>992&&(e(".wp-travel-feature-slide-content").each(function(){e(this).height()>t&&(t=e(this).height())}),t>0&&(e(".trip-headline-wrapper .left-plot").height(t),e(".trip-headline-wrapper .right-plot").height(t)))}if(e(".wp-travel-error").length>0&&e("html, body").animate({scrollTop:e(".wp-travel-error").offset().top-200},1e3),t(),e(".wp-travel-gallery").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}),e(".wp-travel-send-enquiries").magnificPopup({type:"inline",preloader:!1,focus:"#wp-travel-enquiry-name",midClick:!0,callbacks:{open:function(){e("#wp-travel-enquiries").trigger("reset").parsley().reset()}}}),e("#wp-travel-tab-wrapper").easyResponsiveTabs({}),window.location.hash){var a=window.location.hash.substring(1);if(e("ul.resp-tabs-list > li."+a).hasClass("wp-travel-ert")&&(lis=e("ul.resp-tabs-list > li"),lis.removeClass("resp-tab-active"),e("ul.resp-tabs-list > li."+a).addClass("resp-tab-active"),tab_cont=e(".tab-list-content"),tab_cont.removeClass("resp-tab-content-active").hide(),e("#"+a+".tab-list-content").addClass("resp-tab-content-active").show()),e(".wp-travel-tab-wrapper").length){var i=e(window).width(),s=e(".wp-travel-tab-wrapper").offset().top;if(i<767)s=e(".resp-accordion.resp-tab-active").offset().top;e("html, body").animate({scrollTop:s},1200)}}function r(t){for(var a=0;a<t;a++)e(".rate_label:eq( "+a+" )").addClass("dashicons-star-filled").removeClass("dashicons-star-empty ");for(j=4;j>=a;j--)e(".rate_label:eq( "+j+" )").addClass("dashicons-star-empty")}e(".rate_label").hover(function(){var t=e(this).attr("data-id");e(".rate_label").removeClass("dashicons-star-filled"),r(t)},function(){var t=e("#wp_travel_rate_val").val();e(".rate_label").removeClass("dashicons-star-filled").addClass("dashicons-star-empty"),t>0&&r(t)}),e(".rate_label").click(function(t){t.preventDefault(),e("#wp_travel_rate_val").val(e(this).attr("data-id"))}),e(document).on("click",".wp-travel-count-info",function(t){t.preventDefault(),e(".wp-travel-review").trigger("click")}),e(document).on("click",".top-view-gallery",function(t){t.preventDefault(),e(".wp-travel-tab-gallery-contnet").trigger("click")}),e(document).on("click",".wp-travel-count-info, .top-view-gallery",function(t){t.preventDefault();var a=e(window).width(),i=e(".wp-travel-tab-wrapper").offset().top;if(a<767)i=e(".resp-accordion.resp-tab-active").offset().top;e("html, body").animate({scrollTop:i},1200)}),e(window).on("resize",function(e){t()}),e(".open-all-link").click(function(t){t.preventDefault(),e(".panel-title a").removeClass("collapsed").attr({"aria-expanded":"true"}),e(".panel-collapse").addClass("in"),e(".close-all-link").show(),e(".panel-collapse").css("height","auto")}),e(".close-all-link").click(function(t){t.preventDefault(),e(".panel-title a").addClass("collapsed").attr({"aria-expanded":"false"}),e(".panel-collapse").removeClass("in"),e(".open-all-link").show()}),jQuery(".wp-travel-booking-row").hide(),jQuery(".show-booking-row").click(function(t){t.preventDefault();var a=e(this).closest("li.availabily-content");jQuery(this).parent(".action").siblings(".wp-travel-booking-row").toggle("fast",function(){a.toggleClass("opened")}).addClass("animate"),jQuery(this).text(function(e,t){return t===wp_travel.strings.bookings.select?wp_travel.strings.bookings.close:wp_travel.strings.bookings.select})}),jQuery(".wp-travel-booking-row-fd").hide(),jQuery(".show-booking-row-fd").click(function(e){e.preventDefault(),jQuery(this).parent(".action").parent(".trip_list_by_fixed_departure_dates_booking").siblings(".wp-travel-booking-row-fd").toggle("fast").addClass("animate"),jQuery(this).text(function(e,t){return t===wp_travel.strings.bookings.select?wp_travel.strings.bookings.close:wp_travel.strings.bookings.select})}),jQuery(".wp-travel-pricing-dates").each(function(){var e=jQuery(this).data("available-dates");e?jQuery(this).wpt_datepicker({language:wp_travel.locale,autoClose:!0,minDate:new Date,onRenderCell:function(t,a){if("day"==a)return e=e.map(function(e){return new Date(e).toLocaleDateString("en-US")}),isDisabled=!e.includes(t.toLocaleDateString("en-US")),{disabled:isDisabled}}}):jQuery(this).wpt_datepicker({language:wp_travel.locale,minDate:new Date,autoClose:!0})}),e(document).ready(function(e){"undefined"!=typeof moment&&(e(".wp-travel-pricing-days-night").wpt_datepicker({language:wp_travel.locale,minDate:new Date,autoClose:!0,onSelect:function(t,a,i){if(a){var s=i.$el,r=e(s).closest("form").attr("id"),n="arrival_date"===e(s).attr("name")?e("#"+r+" input[name=departure_date]"):e("#"+r+" input[name=arrival_date]"),l=parseInt(s.data("totaldays"));if(l<1)return void n.val(t);var o=moment(a);"arrival_date"===e(s).attr("name")?someFormattedDate=o.add(l,"days").format("YYYY-MM-DD"):someFormattedDate=o.subtract(l,"days").format("YYYY-MM-DD"),n.wpt_datepicker().data("datepicker").date=new Date(someFormattedDate),n.val(someFormattedDate)}}}),e("input[name=departure_date]").each(function(){var t=e(this).wpt_datepicker().data("datepicker");if(void 0!==t){var a=t.$el.data("totaldays");a>0&&(someFormattedDate=moment().add(a,"days").format("YYYY-MM-DD"),t.update("minDate",new Date(someFormattedDate)))}})),"function"==typeof parsley&&e("input").parsley(),e(".login-page .message a").click(function(t){t.preventDefault(),e(".login-page form.login-form,.login-page form.register-form").animate({height:"toggle",opacity:"toggle"},"slow")})}),e(".dashboard-tab").easyResponsiveTabs({type:"vertical",width:"auto",fit:!0,tabidentify:"ver_1",activetab_bg:"#fff",inactive_bg:"#F5F5F5",active_border_color:"#c1c1c1",active_content_border_color:"#5AB1D0"}),e(".dashtab-nav").click(function(t){t.preventDefault();var a=e(this).data("tabtitle");e("#"+a).click(),e(this).hasClass("change-password")&&(e("#wp-travel-dsh-change-pass-switch").is(":checked")||e("#wp-travel-dsh-change-pass-switch").trigger("click"))}),e("#wp-travel-dsh-change-pass-switch").change(function(t){e("#wp-travel-dsh-change-pass").slideToggle()}),e(".wp_travel_tour_extras_toggler").click(function(){e(this).parents(".wp_travel_tour_extras_option_single_content").children(".wp_travel_tour_extras_option_bottom").slideToggle()}),e(".wp-travel-magnific-popup").magnificPopup({type:"inline"})}),function(e){e(document).on("click",".paxpicker .icon-users",function(t){e(this).closest(".paxpicker").hasClass("is-active")?e(this).closest(".paxpicker").removeClass("is-active"):e(this).closest(".paxpicker").addClass("is-active")}),e(".add-to-cart-btn").on("click",function(){var t=e(this).closest("form").find(".pricing-categories");parseInt(t[0].dataset.selectedPax)<parseInt(t[0].dataset.min)?(alert("Please select at least minimum pax."),e(this).attr("disabled","disabled").css({opacity:".5"})):e(this).removeAttr("disabled").removeAttr("style")}),e(document).on("click",".pax-picker-plus, .pax-picker-minus",function(t){t.preventDefault();var a,i,s,r=e(this).closest(".pricing-categories"),n=r.attr("id"),l=e("#"+r.data("parent-form-id")),o=parseInt(document.getElementById(n).dataset.availablePax),c=parseInt(document.getElementById(n).dataset.selectedPax),p=(parseInt(document.getElementById(n).dataset.max),parseInt(document.getElementById(n).dataset.min));i=e(a=this).siblings(".paxpicker-input"),s=i.val()?parseInt(i.val()):0,e("#"+n).find(".available-seats").find("span").text(function(){var t=parseInt(jQuery(i).attr("step"));return e(a).hasClass("pax-picker-plus")&&o>0?(o-=t,c+=t,s+=t,document.getElementById(n).dataset.availablePax=o,document.getElementById(n).dataset.selectedPax=c,i.removeAttr("disabled").val(s).trigger("change"),o):e(a).hasClass("pax-picker-minus")&&s>0?(o+=t,c-=t,s-=t,document.getElementById(n).dataset.availablePax=o,document.getElementById(n).dataset.selectedPax=c,i.removeAttr("disabled").val(s).trigger("change"),o):void 0}),c<p&&l.find("input[type=submit]").attr("disabled","disabled").css({opacity:".5"})||l.find("input[type=submit]").removeAttr("disabled").removeAttr("style");var d="",u="";if(e("#"+n+" .paxpicker-input").each(function(){if(e(this).val()>0){var t=e(this).data("type"),a=e(this).data("category-id");d+=", "+t+" x "+e(this).val(),u+='<input type="hidden" name="pax['+a+']" value="'+e(this).val()+'" >'}}),!d)d=e("#"+n).siblings(".summary").find(".participants-summary-container").data("default");d=d.replace(/^,|,$/g,""),e("#"+n).siblings(".summary").find(".participants-summary-container").val(d),e("#"+n+" .pricing-input").html(u)})}(jQuery);