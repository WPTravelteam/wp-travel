jQuery(document).ready(function($){function wp_travel_set_equal_height(){var base_height=0;$(".wp-travel-feature-slide-content").css({height:"auto"}),window.innerWidth>992&&($(".wp-travel-feature-slide-content").each(function(){$(this).height()>base_height&&(base_height=$(this).height())}),base_height>0&&($(".trip-headline-wrapper .left-plot").height(base_height),$(".trip-headline-wrapper .right-plot").height(base_height)))}function rate(rateLabel){for(var i=0;i<rateLabel;i++)$(".rate_label:eq( "+i+" )").addClass("dashicons-star-filled").removeClass("dashicons-star-empty ");for(j=4;j>=i;j--)$(".rate_label:eq( "+j+" )").addClass("dashicons-star-empty")}if(wp_travel_set_equal_height(),$(".wp-travel-gallery").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}),$("#wp-travel-send-enquiries").magnificPopup({type:"inline",preloader:!1,focus:"#wp-travel-enquiry-name",midClick:!0}),$("#wp-travel-tab-wrapper").easyResponsiveTabs({}),window.location.hash){var hash=window.location.hash.substring(1);if($("ul.resp-tabs-list > li."+hash).hasClass("wp-travel-ert")&&(lis=$("ul.resp-tabs-list > li"),lis.removeClass("resp-tab-active"),$("ul.resp-tabs-list > li."+hash).addClass("resp-tab-active"),tab_cont=$(".tab-list-content"),tab_cont.removeClass("resp-tab-content-active").hide(),$("#"+hash+".tab-list-content").addClass("resp-tab-content-active").show()),$(".wp-travel-tab-wrapper").length){var winWidth=$(window).width(),tabHeight=$(".wp-travel-tab-wrapper").offset().top;if(winWidth<767)var tabHeight=$(".resp-accordion.resp-tab-active").offset().top;$("html, body").animate({scrollTop:tabHeight},1200)}}$(".rate_label").hover(function(){var rateLabel=$(this).attr("data-id");$(".rate_label").removeClass("dashicons-star-filled"),rate(rateLabel)},function(){var ratedLabel=$("#wp_travel_rate_val").val();$(".rate_label").removeClass("dashicons-star-filled").addClass("dashicons-star-empty"),ratedLabel>0&&rate(ratedLabel)}),$(".rate_label").click(function(e){e.preventDefault(),$("#wp_travel_rate_val").val($(this).attr("data-id"))}),$(document).on("click",".wp-travel-count-info",function(e){e.preventDefault(),$(".wp-travel-review").trigger("click")}),$(document).on("click",".top-view-gallery",function(e){e.preventDefault(),$(".wp-travel-tab-gallery-contnet").trigger("click")}),$(document).on("click",".wp-travel-count-info, .top-view-gallery",function(e){e.preventDefault();var winWidth=$(window).width(),tabHeight=$(".wp-travel-tab-wrapper").offset().top;if(winWidth<767)var tabHeight=$(".resp-accordion.resp-tab-active").offset().top;$("html, body").animate({scrollTop:tabHeight},1200)}),$(window).on("resize",function(e){wp_travel_set_equal_height()}),$(".open-all-link").click(function(e){e.preventDefault(),$(".panel-title a").removeClass("collapsed").attr({"aria-expanded":"true"}),$(".panel-collapse").addClass("in"),$(".close-all-link").show(),$(".panel-collapse").css("height","auto")}),$(".close-all-link").click(function(e){e.preventDefault(),$(".panel-title a").addClass("collapsed").attr({"aria-expanded":"false"}),$(".panel-collapse").removeClass("in"),$(".open-all-link").show()}),$("#wp-travel-enquiries").submit(function(e){e.preventDefault(),$(".enquiry-response").remove();var formData={wp_travel_enquiry_name:$("#wp-travel-enquiry-name").val(),wp_travel_enquiry_email:$("#wp-travel-enquiry-email").val(),wp_travel_enquiry_query:$("#wp-travel-enquiry-query").val(),action:"wp_travel_save_user_enquiry",nonce:wp_travel_frontend_vars.nonce,post_id:$("#wp-travel-enquiry-post-id").val()},text_processing=$("#wp_travel_label_processing").val(),text_submit_enquiry=$("#wp_travel_label_submit_enquiry").val();$.ajax({type:"POST",url:wp_travel_frontend_vars.ajaxUrl,data:formData,beforeSend:function(){$("#wp-travel-enquiry-submit").addClass("loading-bar loading-bar-striped active").val(text_processing).attr("disabled","disabled")},success:function(data){if(0==data.success){var message='<span class="enquiry-response enquiry-error-msg">'+data.data.message+"</span>";$("#wp-travel-enquiries").append(message)}else if(1==data.success){var message='<span class="enquiry-response enquiry-success-msg">'+data.data.message+"</span>";$("#wp-travel-enquiries").append(message),setTimeout(function(){jQuery("#wp-travel-send-enquiries").magnificPopup("close")},"3000")}return $("#wp-travel-enquiry-submit").removeClass("loading-bar loading-bar-striped active").val(text_submit_enquiry).removeAttr("disabled","disabled"),$("#wp-travel-enquiry-name").val(""),$("#wp-travel-enquiry-email").val(""),$("#wp-travel-enquiry-query").val(""),!1}})}),jQuery(".wp-travel-booking-row").hide(),jQuery(".show-booking-row").click(function(event){event.preventDefault(),jQuery(this).parent(".action").siblings(".wp-travel-booking-row").toggle("fast").addClass("animate"),jQuery(this).text(function(i,text){return"Select"===text?"Close":"Select"})}),jQuery(".wp-travel-pricing-dates").each(function(){var availabledate=jQuery(this).data("available-dates");availabledate?jQuery(this).datepicker({language:"en",inline:!0,minDate:new Date,onRenderCell:function(date,cellType){if("day"==cellType)return availabledate=availabledate.map(function(d){return new Date(d).toLocaleDateString("en-US")}),isDisabled=!availabledate.includes(date.toLocaleDateString("en-US")),{disabled:isDisabled}}}):jQuery(this).datepicker({language:"en",inline:!0,minDate:new Date})}),$(document).ready(function($){"function"==typeof parsley&&$("input").parsley(),$(".add-to-cart-btn").click(function(event){event.preventDefault();var isValid=!0,parent="#"+$(this).data("parent-id");if(console.log(parent),$(parent+" input").each(function(){!0!==$(this).parsley().validate()&&(isValid=!1)}),isValid){pathname=$(this).attr("href"),query_string="?";pathname.match(/\?/)&&(query_string="&"),$(parent+" input").each(function(){filterby=$(this).attr("name"),filterby_val=$(this).val(),query_string+=filterby+"="+filterby_val+"&"}),redirect_url=pathname+query_string,redirect_url=redirect_url.replace(/&+$/,""),location.href=redirect_url}})}),jQuery(document).ready(function($){$(".login-page .message a").click(function(e){e.preventDefault(),$(".login-page form.login-form,.login-page form.register-form").animate({height:"toggle",opacity:"toggle"},"slow")})}),$(".dashboard-tab").easyResponsiveTabs({type:"vertical",width:"auto",fit:!0,tabidentify:"ver_1",activetab_bg:"#fff",inactive_bg:"#F5F5F5",active_border_color:"#c1c1c1",active_content_border_color:"#5AB1D0"}),$(".dashtab-nav").click(function(e){e.preventDefault();var tab=$(this).data("tabtitle");$("#"+tab).click()}),$("#wp-travel-dsh-change-pass-switch").change(function(e){$("#wp-travel-dsh-change-pass").slideToggle()})});