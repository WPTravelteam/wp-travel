jQuery(function(a){function b(){var b=0;a(".wp-travel-feature-slide-content").css({height:"auto"}),window.innerWidth>992&&(a(".wp-travel-feature-slide-content").each(function(){a(this).height()>b&&(b=a(this).height())}),b>0&&(a(".trip-headline-wrapper .left-plot").height(b),a(".trip-headline-wrapper .right-plot").height(b)))}function c(b){for(var c=0;c<b;c++)a(".rate_label:eq( "+c+" )").addClass("dashicons-star-filled").removeClass("dashicons-star-empty ");for(k=4;k>=c;k--)a(".rate_label:eq( "+k+" )").addClass("dashicons-star-empty")}function d(a){var b,c,d,e,f,g=[];for(b=document.getElementsByClassName("select-items"),c=document.getElementsByClassName("select-selected"),e=b.length,f=c.length,d=0;d<f;d++)a==c[d]?g.push(d):c[d].classList.remove("select-arrow-active");for(d=0;d<e;d++)g.indexOf(d)&&b[d].classList.add("select-hide")}if(a(".wp-travel-error").length>0&&a("html, body").animate({scrollTop:a(".wp-travel-error").offset().top-200},1e3),b(),a(".wp-travel-gallery").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}),a(".wp-travel-send-enquiries").magnificPopup({type:"inline",preloader:!1,focus:"#wp-travel-enquiry-name",midClick:!0,callbacks:{open:function(){a("#wp-travel-enquiries").trigger("reset").parsley().reset()}}}),a(".wti-send-enquiries").magnificPopup({type:"inline",preloader:!1,focus:"#wp-travel-enquiry-name",midClick:!0,callbacks:{open:function(){a("#wp-travel-enquiries").trigger("reset").parsley().reset()}}}),a("#wp-travel-tab-wrapper").easyResponsiveTabs({}),window.location.hash){var e=window.location.hash.substring(1);if(a("ul.resp-tabs-list > li."+e).hasClass("wp-travel-ert")&&(lis=a("ul.resp-tabs-list > li"),lis.removeClass("resp-tab-active"),a("ul.resp-tabs-list > li."+e).addClass("resp-tab-active"),tab_cont=a(".tab-list-content"),tab_cont.removeClass("resp-tab-content-active").hide(),a("#"+e+".tab-list-content").addClass("resp-tab-content-active").show()),a(".wp-travel-tab-wrapper").length){var f=a(window).width(),g=a(".wp-travel-tab-wrapper").offset().top;if(f<767)var g=a(".resp-accordion.resp-tab-active").offset().top;a("html, body").animate({scrollTop:g},1200)}}a(".rate_label").hover(function(){var b=a(this).attr("data-id");a(".rate_label").removeClass("dashicons-star-filled"),c(b)},function(){var b=a("#wp_travel_rate_val").val();a(".rate_label").removeClass("dashicons-star-filled").addClass("dashicons-star-empty"),b>0&&c(b)}),a(".rate_label").click(function(b){b.preventDefault(),a("#wp_travel_rate_val").val(a(this).attr("data-id"))}),a(document).on("click",".wp-travel-count-info",function(b){b.preventDefault(),a(".wp-travel-review").trigger("click")}),a(document).on("click",".top-view-gallery",function(b){b.preventDefault(),a(".wp-travel-tab-gallery-contnet").trigger("click")}),a(document).on("click",".wp-travel-count-info, .top-view-gallery",function(b){b.preventDefault();var c=a(window).width(),d=a(".wp-travel-tab-wrapper").offset().top;if(c<767)var d=a(".resp-accordion.resp-tab-active").offset().top;a("html, body").animate({scrollTop:d},1200)}),a(window).on("resize",function(a){b()}),a(".open-all-link").click(function(b){b.preventDefault(),a(".panel-title a").removeClass("collapsed").attr({"aria-expanded":"true"}),a(".panel-collapse").addClass("in"),a(".close-all-link").show(),a(".panel-collapse").css("height","auto")}),a(".close-all-link").click(function(b){b.preventDefault(),a(".panel-title a").addClass("collapsed").attr({"aria-expanded":"false"}),a(".panel-collapse").removeClass("in"),a(".open-all-link").show()}),jQuery(".wp-travel-booking-row").hide(),jQuery(".show-booking-row").click(function(b){b.preventDefault();var c=a(this).closest("li.availabily-content");jQuery(this).parent(".action").siblings(".wp-travel-booking-row").toggle("fast",function(){c.toggleClass("opened")}).addClass("animate"),jQuery(this).text(function(a,b){return b===wp_travel.strings.bookings.select?wp_travel.strings.bookings.close:wp_travel.strings.bookings.select})}),jQuery(".wp-travel-booking-row-fd").hide(),jQuery(".show-booking-row-fd").click(function(a){a.preventDefault(),jQuery(this).parent(".action").parent(".trip_list_by_fixed_departure_dates_booking").siblings(".wp-travel-booking-row-fd").toggle("fast").addClass("animate"),jQuery(this).text(function(a,b){return b===wp_travel.strings.bookings.select?wp_travel.strings.bookings.close:wp_travel.strings.bookings.select})}),jQuery(".wp-travel-pricing-dates").each(function(){var a=jQuery(this).data("available-dates");a?jQuery(this).wpt_datepicker({language:wp_travel.locale,autoClose:!0,minDate:new Date,onRenderCell:function(b,c){if("day"==c)return a=a.map(function(a){return new Date(a).toLocaleDateString("en-US")}),isDisabled=!a.includes(b.toLocaleDateString("en-US")),{disabled:isDisabled}}}):jQuery(this).wpt_datepicker({language:wp_travel.locale,minDate:new Date,autoClose:!0})}),"undefined"!=typeof moment&&(a(".wp-travel-pricing-days-night").wpt_datepicker({language:wp_travel.locale,minDate:new Date,autoClose:!0,onSelect:function(b,c,d){if(c){var e=d.$el,f=a(e).closest("form").attr("id"),g=a("arrival_date"===a(e).attr("name")?"#"+f+" input[name=departure_date]":"#"+f+" input[name=arrival_date]"),h=parseInt(e.data("totaldays"));if(h<1)return void g.val(b);var i=moment(c);"arrival_date"===a(e).attr("name")?someFormattedDate=i.add(h,"days").format("YYYY-MM-DD"):someFormattedDate=i.subtract(h,"days").format("YYYY-MM-DD");g.wpt_datepicker().data("datepicker").date=new Date(someFormattedDate),g.val(someFormattedDate)}}}),a("input[name=departure_date]").each(function(){var b=a(this).wpt_datepicker().data("datepicker");if(void 0!==b){var c=b.$el.data("totaldays");c>0&&(someFormattedDate=moment().add(c,"days").format("YYYY-MM-DD"),b.update("minDate",new Date(someFormattedDate)))}})),"function"==typeof parsley&&a("input").parsley(),a(".login-page .message a").click(function(b){b.preventDefault(),a(".login-page form.login-form,.login-page form.register-form").animate({height:"toggle",opacity:"toggle"},"slow")}),a(".dashboard-tab").easyResponsiveTabs({type:"vertical",width:"auto",fit:!0,tabidentify:"ver_1",activetab_bg:"#fff",inactive_bg:"#F5F5F5",active_border_color:"#c1c1c1",active_content_border_color:"#5AB1D0"}),a(".dashtab-nav").click(function(b){b.preventDefault();var c=a(this).data("tabtitle");a("#"+c).click(),a(this).hasClass("change-password")&&(a("#wp-travel-dsh-change-pass-switch").is(":checked")||a("#wp-travel-dsh-change-pass-switch").trigger("click"))}),a("#wp-travel-dsh-change-pass-switch").change(function(b){a("#wp-travel-dsh-change-pass").slideToggle()}),a(".wp_travel_tour_extras_toggler").click(function(){a(this).parents(".wp_travel_tour_extras_option_single_content").children(".wp_travel_tour_extras_option_bottom").slideToggle()}),a(".wp-travel-magnific-popup").magnificPopup({type:"inline"}),a(document).on("click",".paxpicker .icon-users",function(b){a(this).closest(".paxpicker").hasClass("is-active")?a(this).closest(".paxpicker").removeClass("is-active"):a(this).closest(".paxpicker").addClass("is-active")}),a(".add-to-cart-btn").on("click",function(){var b=a(this).closest("form").find(".pricing-categories");parseInt(b[0].dataset.selectedPax)<parseInt(b[0].dataset.min)?(alert(wp_travel.strings.alert.atleast_min_pax_alert),a(this).attr("disabled","disabled").css({opacity:".5"})):a(this).removeAttr("disabled").removeAttr("style")}),a(document).on("click",".pax-picker-plus, .pax-picker-minus",function(b){b.preventDefault();var c=a(this).closest(".pricing-categories"),d=c.attr("id"),e=a("#"+c.data("parent-form-id")),f=parseInt(document.getElementById(d).dataset.availablePax),g=parseInt(document.getElementById(d).dataset.selectedPax),h=(parseInt(document.getElementById(d).dataset.max),parseInt(document.getElementById(d).dataset.min));!function(b){var c=a(b).siblings(".paxpicker-input"),e=c.val()?parseInt(c.val()):0;a("#"+d).find(".available-seats").find("span").text(function(){var h=parseInt(jQuery(c).attr("step"));return a(b).hasClass("pax-picker-plus")&&f>0?(f-=h,g+=h,e+=h,document.getElementById(d).dataset.availablePax=f,document.getElementById(d).dataset.selectedPax=g,c.removeAttr("disabled").val(e).trigger("change"),f):a(b).hasClass("pax-picker-minus")&&e>0?(f+=h,g-=h,e-=h,document.getElementById(d).dataset.availablePax=f,document.getElementById(d).dataset.selectedPax=g,c.removeAttr("disabled").val(e).trigger("change"),f):void 0})}(this),g<h&&e.find("input[type=submit]").attr("disabled","disabled").css({opacity:".5"})||e.find("input[type=submit]").removeAttr("disabled").removeAttr("style");var i="",j="";if(a("#"+d+" .paxpicker-input").each(function(){if(a(this).val()>0){var b=a(this).data("type"),c=a(this).data("custom");"custom"===b&&""!=c&&(b=c);var d=a(this).data("category-id");i+=", "+b+" x "+a(this).val(),j+='<input type="hidden" name="pax['+d+']" value="'+a(this).val()+'" >'}}),!i)var i=a("#"+d).siblings(".summary").find(".participants-summary-container").data("default");i=i.replace(/^,|,$/g,""),a("#"+d).siblings(".summary").find(".participants-summary-container").val(i),a("#"+d+" .pricing-input").html(j)});var h=function(b){b.preventDefault(),a(".enquiry-response").remove();var c=a("#wp-travel-enquiries").serializeArray();c.push({name:"nonce",value:wp_travel.nonce});var d=a("#wp_travel_label_processing").val(),e=a("#wp_travel_label_submit_enquiry").val();a.ajax({type:"POST",url:wp_travel.ajaxUrl,data:c,beforeSend:function(){a("#wp-travel-enquiry-submit").addClass("loading-bar loading-bar-striped active").val(d).attr("disabled","disabled")},success:function(b){if(0==b.success){var c='<span class="enquiry-response enquiry-error-msg">'+b.data.message+"</span>";a("#wp-travel-enquiries").append(c)}else if(1==b.success){var c='<span class="enquiry-response enquiry-success-msg">'+b.data.message+"</span>";a("#wp-travel-enquiries").append(c),setTimeout(function(){jQuery("#wp-travel-send-enquiries").magnificPopup("close"),a("#wp-travel-enquiries .enquiry-response ").hide()},"3000")}return a("#wp-travel-enquiry-submit").removeClass("loading-bar loading-bar-striped active").val(e).removeAttr("disabled","disabled"),a("#wp-travel-enquiry-name").val(""),a("#wp-travel-enquiry-email").val(""),a("#wp-travel-enquiry-query").val(""),!1}}),a("#wp-travel-enquiries").trigger("reset")};a("#wp-travel-enquiries").submit(h);var i,j,k,l,m,n,o,p,q;for(i=document.getElementsByClassName("wti__filter-input"),l=i.length,j=0;j<l;j++){for(n=i[j].getElementsByTagName("select")[0],m=n.length,o=document.createElement("DIV"),o.setAttribute("class","select-selected"),o.innerHTML=n.options[n.selectedIndex].innerHTML,i[j].appendChild(o),p=document.createElement("DIV"),p.setAttribute("class","select-items select-hide"),k=1;k<m;k++)q=document.createElement("DIV"),q.innerHTML=n.options[k].innerHTML,q.addEventListener("click",function(a){var b,c,d,e,f,g,h;for(e=this.parentNode.parentNode.getElementsByTagName("select")[0],g=e.length,f=this.parentNode.previousSibling,c=0;c<g;c++)if(e.options[c].innerHTML==this.innerHTML){for(e.selectedIndex=c,f.innerHTML=this.innerHTML,b=this.parentNode.getElementsByClassName("same-as-selected"),h=b.length,d=0;d<h;d++)b[d].removeAttribute("class");this.setAttribute("class","same-as-selected");break}f.click()}),p.appendChild(q);i[j].appendChild(p),o.addEventListener("click",function(a){a.stopPropagation(),d(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",d),a(".wti__grid-list-filter .wti__button").on("click",function(){a(this).addClass("active").siblings(".wti__button").removeClass("active");var b=a(this).data("view");a(".wti__list-wrapper").removeClass("grid-view list-view"),a(".wti__list-wrapper").addClass(b)}),a(".scroll-spy-button").each(function(){a(this).on("click",function(){var b=a(this).data("scroll");return a(".scroll-spy-button").removeClass("active"),a("html, body").animate({scrollTop:a(b).offset().top-70},{duration:500}),a(this).addClass("active"),!1})}),a(".wti__selector-item.active").find(".wti__selector-content-wrapper").slideDown(),a(".wti__selector-heading").on("click",function(){a(this).parents(".wti__selector-item").toggleClass("active"),a(this).siblings(".wti__selector-content-wrapper").stop().slideToggle()}),a(".decrease_val").click(function(){var b=a(this).siblings("input[type=number]"),c=b.val()-1;c>=b.attr("min")&&b.val(c)}),a(".increase_val").click(function(){var b=a(this).siblings("input[type=number]"),c=1*b.val()+1;c<=b.attr("max")&&b.val(c)}),a(window).on("scroll",function(){var b=a(window).scrollTop(),c=a(".scroll-spy-button");a(".wti__tab-content-wrapper").each(function(){var d=a(this).attr("id"),e=a(this).offset().top-100,f=a(this).height();b>=e&&b<e+f&&(c.removeClass("active"),a("#scrollspy-buttons").find('[data-scroll="#'+d+'"]').addClass("active"))})}),a(document).ready(function(a){a(".wti__advance-gallery-item-list").magnificPopup({delegate:".gallery-item  ",type:"image",gallery:{enabled:!0}})}),a(document).ready(function(){a(".accordion-panel-heading").click(function(){a(this).next().slideToggle(500),a(this).toggleClass("active"),a(this).parent().toggleClass("accordion-active")})}),a(".wti__scrollspy-buttons").slick({infinite:!1,slidesToShow:5,slidesToScroll:1})});