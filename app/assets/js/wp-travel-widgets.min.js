function GetConvertedPrice(e){var r="undefined"!=typeof wp_travel&&void 0!==wp_travel.conversion_rate?wp_travel.conversion_rate:1,a="undefined"!=typeof wp_travel&&void 0!==wp_travel.number_of_decimals?wp_travel.number_of_decimals:2;return r=parseFloat(r).toFixed(2),parseFloat(e*r).toFixed(a)}jQuery((function(e){function r(e){for(var r=null,a=[],i=location.search.substr(1).split("&"),t=0;t<i.length;t++)(a=i[t].split("="))[0]===e&&(r=decodeURIComponent(a[1]));return r}e(document).ready((function(){var a=[];"object"==typeof wp_travel.prices&&(a=wp_travel.prices.map((function(e){return parseInt(e,10)})));var i=0,t=0,n=0,l=0;a.length>0&&(i=Math.min.apply(null,a),t=Math.max.apply(null,a),i=parseInt(GetConvertedPrice(i)),t=parseInt(GetConvertedPrice(t))),n=r("min_price")?r("min_price"):i,l=r("max_price")?r("max_price"):t,e(".wp-travel-range-slider").slider({range:!0,min:i,max:t,values:[n,l],slide:function(r,a){e(".price-amount").val(wp_travel.currency_symbol+a.values[0]+" - "+wp_travel.currency_symbol+a.values[1]),e(".wp-travel-range-slider").siblings(".wp-travel-filter-price-min").val(a.values[0]),e(".wp-travel-range-slider").siblings(".wp-travel-filter-price-max").val(a.values[1])}}),e(".price-amount").val(wp_travel.currency_symbol+e(".wp-travel-range-slider").slider("values",0)+" - "+wp_travel.currency_symbol+e(".wp-travel-range-slider").slider("values",1)),e(".trip-duration-calender input").wpt_datepicker({language:wp_travel.locale})})),e(".wp-travel-filter-submit-shortcode").on("click",(function(){e(this).siblings(".wp-travel-filter-view-mode").data("mode");var r=e(this).siblings(".wp-travel-filter-archive-url").val();r||(r=window.location.pathname),query_string="",window.location.search&&(query_string=window.location.search);var a=new URL(r+query_string),i=a.searchParams,t=e(this).siblings(".wptravel_filter-data-index").data("index");e(".wp_travel_search_filters_input"+t).each((function(){var r=e(this).attr("name"),t=e(this).val();i.set(r,t),a.search=i.toString()}));var n=a.toString();window.location=n})),e(".wp-travel-filter-search-submit").on("click",(function(){e(this).siblings(".wp-travel-widget-filter-view-mode").data("mode");var r=e(this).siblings(".wp-travel-widget-filter-archive-url").val();r||(r=window.location.pathname),query_string="",window.location.search&&(query_string=window.location.search);var a=new URL(r+query_string),i=a.searchParams,t=e(this).siblings(".filter-data-index").data("index");e(".wp_travel_search_widget_filters_input"+t).each((function(){var r=e(this).attr("name"),t=e(this).val();i.set(r,t),a.search=i.toString()}));var n=a.toString();window.location=n}));e("body").off("submit","#wp-travel-enquiries"),e("#wp-travel-enquiries").submit((function(r){r.preventDefault(),e(".enquiry-response").remove();var a=e("#wp-travel-enquiries").serializeArray();a.push({name:"nonce",value:wp_travel.nonce});var i=e("#wp_travel_label_processing").val(),t=e("#wp_travel_label_submit_enquiry").val();e.ajax({type:"POST",url:wp_travel.ajaxUrl,data:a,beforeSend:function(){e("#wp-travel-enquiry-submit").addClass("loading-bar loading-bar-striped active").val(i).attr("disabled","disabled")},success:function(r){if(0==r.success){var a='<span class="enquiry-response enquiry-error-msg">'+r.data.message+"</span>";e("#wp-travel-enquiries").append(a)}else if(1==r.success){a='<span class="enquiry-response enquiry-success-msg">'+r.data.message+"</span>";e("#wp-travel-enquiries").append(a),setTimeout((function(){jQuery("#wp-travel-send-enquiries").magnificPopup("close"),e("#wp-travel-enquiries .enquiry-response ").hide()}),"3000")}return e("#wp-travel-enquiry-submit").removeClass("loading-bar loading-bar-striped active").val(t).removeAttr("disabled","disabled"),e("#wp-travel-enquiry-name").val(""),e("#wp-travel-enquiry-email").val(""),e("#wp-travel-enquiry-query").val(""),!1}}),e("#wp-travel-enquiries").trigger("reset")})),e(document).on("click",".btn-wptravel-filter-by-shortcodes-itinerary",(function(){var r=e(this).parent(".wp-travel-filter-by-heading");r&&r.siblings(".wp-toolbar-filter-field")&&(r.siblings(".wp-toolbar-filter-field, .wp-travel-filter-button").toggleClass("show-in-mobile"),r.siblings(".wp-toolbar-filter-field").hasClass("show-in-mobile")?e(this).addClass("active"):e(this).removeClass("active"))}))})),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js").then((e=>console.log("service worker registered"))).catch((e=>console.log("service worker not registered",e)))}));